---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: mariadb
  namespace: flux-system
spec:
  chart:
    spec:
      chart: mariadb
      sourceRef:
        kind: HelmRepository
        name: bitnami
      version: 9.3.16
  install: {}
  interval: 1m0s
  targetNamespace: wordpress-test
  values:
    architecture: standalone
    auth:
      customPasswordFiles: {}
      database: my_database
      forcePassword: false
      password: ""
      replicationPassword: ""
      replicationUser: replicator
      rootPassword: ${SECRET_MARIADB_ROOT_PASSWORD}
      usePasswordFiles: false
      username: ""
    clusterDomain: cluster.local
    commonAnnotations: {}
    commonLabels: {}
    extraDeploy: []
    image:
      debug: false
      pullPolicy: IfNotPresent
      pullSecrets: []
      registry: ghcr.io
      repository: linuxserver/mariadb
      tag: arm32v7-alpine-10.5.11-r0-ls24
    initdbScripts: {}
    metrics:
      annotations:
        prometheus.io/port: "9104"
        prometheus.io/scrape: "true"
      enabled: false
      extraArgs:
        primary: []
        secondary: []
      image:
        pullPolicy: IfNotPresent
        registry: docker.io
        repository: bitnami/mysqld-exporter
        tag: 0.13.0-debian-10-r19
      livenessProbe:
        enabled: true
        failureThreshold: 3
        initialDelaySeconds: 120
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      readinessProbe:
        enabled: true
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits: {}
        requests: {}
      serviceMonitor:
        additionalLabels: {}
        enabled: false
        honorLabels: false
        interval: 30s
    primary:
      affinity: {}
      args: []
      command: []
      configuration: |-
        [mysqld]
        skip-name-resolve
        explicit_defaults_for_timestamp
        basedir=/opt/bitnami/mariadb
        plugin_dir=/opt/bitnami/mariadb/plugin
        port=3306
        socket=/opt/bitnami/mariadb/tmp/mysql.sock
        tmpdir=/opt/bitnami/mariadb/tmp
        max_allowed_packet=16M
        bind-address=0.0.0.0
        pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
        log-error=/opt/bitnami/mariadb/logs/mysqld.log
        character-set-server=UTF8
        collation-server=utf8_general_ci

        [client]
        port=3306
        socket=/opt/bitnami/mariadb/tmp/mysql.sock
        default-character-set=UTF8
        plugin_dir=/opt/bitnami/mariadb/plugin

        [manager]
        port=3306
        socket=/opt/bitnami/mariadb/tmp/mysql.sock
        pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
      containerSecurityContext:
        enabled: true
        runAsUser: 1001
      customLivenessProbe: {}
      customReadinessProbe: {}
      extraEnvVars: []
      extraEnvVarsCM: ""
      extraEnvVarsSecret: ""
      extraFlags: ""
      extraVolumeMounts: []
      extraVolumes: []
      hostAliases: []
      initContainers: []
      livenessProbe:
        enabled: true
        failureThreshold: 3
        initialDelaySeconds: 120
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      nodeAffinityPreset:
        key: ""
        type: ""
        values: []
      nodeSelector: {}
      pdb:
        enabled: false
        minAvailable: 1
      persistence:
        accessModes:
        - ReadWriteOnce
        annotations: {}
        enabled: true
        existingClaim: mariadb-pvc
        selector: {}
        size: 8Gi
      podAffinityPreset: ""
      podAnnotations: {}
      podAntiAffinityPreset: soft
      podSecurityContext:
        enabled: true
        fsGroup: 1001
      priorityClassName: ""
      readinessProbe:
        enabled: true
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits: {}
        requests: {}
      revisionHistoryLimit: 10
      service:
        annotations: {}
        clusterIP: ""
        loadBalancerIP: ""
        loadBalancerSourceRanges: []
        nodePort: ""
        port: 3306
        type: ClusterIP
      sidecars: []
      startupWaitOptions: {}
      tolerations: []
      updateStrategy: RollingUpdate
    rbac:
      create: false
    secondary:
      affinity: {}
      args: []
      command: []
      configuration: |-
        [mysqld]
        skip-name-resolve
        explicit_defaults_for_timestamp
        basedir=/opt/bitnami/mariadb
        port=3306
        socket=/opt/bitnami/mariadb/tmp/mysql.sock
        tmpdir=/opt/bitnami/mariadb/tmp
        max_allowed_packet=16M
        bind-address=0.0.0.0
        pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
        log-error=/opt/bitnami/mariadb/logs/mysqld.log
        character-set-server=UTF8
        collation-server=utf8_general_ci

        [client]
        port=3306
        socket=/opt/bitnami/mariadb/tmp/mysql.sock
        default-character-set=UTF8

        [manager]
        port=3306
        socket=/opt/bitnami/mariadb/tmp/mysql.sock
        pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
      containerSecurityContext:
        enabled: true
        runAsUser: 1001
      customLivenessProbe: {}
      customReadinessProbe: {}
      extraEnvVars: []
      extraEnvVarsCM: ""
      extraEnvVarsSecret: ""
      extraFlags: ""
      extraVolumeMounts: []
      extraVolumes: []
      hostAliases: []
      initContainers: []
      livenessProbe:
        enabled: true
        failureThreshold: 3
        initialDelaySeconds: 120
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      nodeAffinityPreset:
        key: ""
        type: ""
        values: []
      nodeSelector: {}
      pdb:
        enabled: false
        minAvailable: 1
      persistence:
        accessModes:
        - ReadWriteOnce
        annotations: {}
        enabled: true
        selector: {}
        size: 8Gi
      podAffinityPreset: ""
      podAnnotations: {}
      podAntiAffinityPreset: soft
      podSecurityContext:
        enabled: true
        fsGroup: 1001
      priorityClassName: ""
      readinessProbe:
        enabled: true
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      replicaCount: 1
      resources:
        limits: {}
        requests: {}
      revisionHistoryLimit: 10
      service:
        annotations: {}
        clusterIP: ""
        loadBalancerIP: ""
        loadBalancerSourceRanges: []
        nodePort: ""
        port: 3306
        type: ClusterIP
      sidecars: []
      startupWaitOptions: {}
      tolerations: []
      updateStrategy: RollingUpdate
    serviceAccount:
      annotations: {}
      create: true
    volumePermissions:
      enabled: false
      image:
        pullPolicy: Always
        registry: docker.io
        repository: bitnami/bitnami-shell
        tag: 10-debian-10-r115
      resources: {}

